<html>
 <head>
  <script src="imageProcessingFunctions.js"></script>
  <script>
    // these globals are set in readImage()
    var imgWidth, imgHeight;
    var ctx;

    function loadImage() {
      var textbox = document.getElementById("filename");
      var filename = textbox.value;
      var canvas = document.getElementById("canvas");
      readImage(canvas,filename);
    }
    function doGreyScale() {
      var imageData = ctx.getImageData(0, 0, imgWidth, imgHeight);
      greyscale(imageData);
			//threshold(imageData, 100);
      ctx.putImageData(imageData, 0, 0); 
    }
    function doSobel() {
      var imageData = ctx.getImageData(0, 0, imgWidth, imgHeight);
      sobel(imageData);	
			//pruning(imageData,1000,false);
			//kernel = 7;
			//erode(imageData, kernel);
			//dilate(imageData, kernel);
			//dilate(imageData, kernel);
			//erode(imageData, kernel);			
      ctx.putImageData(imageData, 0, 0); 
    }
		function doGauss() {
      var imageData = ctx.getImageData(0, 0, imgWidth, imgHeight);
      gaussian(imageData);
      gaussian(imageData);
      gaussian(imageData);
      ctx.putImageData(imageData, 0, 0); 
    }
		function doThinning() {
      var imageData = ctx.getImageData(0, 0, imgWidth, imgHeight);
      thinning(imageData,true);
      ctx.putImageData(imageData, 0, 0); 
    }
  </script>
 </head>

 <body>
   <canvas id="canvas" style="border-width:1px; border-style:solid;" width="500" height="500"></canvas><br>
   <input type="text" id="filename" style="width:600px;" value="images/chair.jpg"> <input type="button" onclick="loadImage();" value="Load Image"><br>
	 <input type="button" onclick="doGauss();" value="Gaussian Blur"><br>
	 <input type="button" onclick="doGreyScale();" value="GreyScale"><br>
	 <input type="button" onclick="doSobel();" value="Sobel">
	 <input type="button" onclick="doThinning();" value="Thinning">
 </body>
</html>
